<div class="min-h-screen bg-[#050406] text-[#f0f0f0] pt-32 pb-20 relative overflow-hidden" id="learn-container">
    <!-- Background Elements -->
    <div class="absolute inset-0 grid-bg opacity-20 pointer-events-none"></div>
    
    <div class="container mx-auto px-6 md:px-12 relative z-10">
        <!-- Header -->
        <div class="text-center mb-16">
            <h1 class="text-6xl md:text-9xl font-black font-syne uppercase leading-none mb-4 glitch-text" data-text="ACADEMY">ACADEMY</h1>
            <p class="font-mono text-[#FF9E00] uppercase tracking-widest">MASTER THE FLOW</p>
        </div>

        <!-- Filters -->
        <div class="flex justify-center gap-4 mb-12 flex-wrap">
            <button class="filter-btn active px-6 py-2 border border-[#FF9E00] bg-[#FF9E00] text-black font-mono text-xs uppercase font-bold hover:bg-[#CCFF00] hover:border-[#CCFF00] transition-colors" data-filter="all">
                MINDEN
            </button>
            <button class="filter-btn px-6 py-2 border border-white/20 text-white font-mono text-xs uppercase font-bold hover:border-[#FF9E00] hover:text-[#FF9E00] transition-colors" data-filter="beginner">
                KEZDŐ
            </button>
            <button class="filter-btn px-6 py-2 border border-white/20 text-white font-mono text-xs uppercase font-bold hover:border-[#FF9E00] hover:text-[#FF9E00] transition-colors" data-filter="intermediate">
                HALADÓ
            </button>
            <button class="filter-btn px-6 py-2 border border-white/20 text-white font-mono text-xs uppercase font-bold hover:border-[#FF9E00] hover:text-[#FF9E00] transition-colors" data-filter="pro">
                PRO
            </button>
        </div>

        <!-- Video Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {% for block in section.blocks %}
                <div class="video-card group relative aspect-[9/16] border border-white/20 bg-[#0a0a0a] overflow-hidden cursor-none-target" data-category="{{ block.settings.difficulty }}">
                    <!-- Video/Image Placeholder -->
                    {% if block.settings.video_url %}
                        <video 
                            src="{{ block.settings.video_url }}" 
                            poster="{{ block.settings.image | image_url: width: 600 }}"
                            class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"
                            loop
                            muted
                            playsinline
                        ></video>
                    {% else %}
                        <div class="w-full h-full bg-[#111] flex items-center justify-center grayscale group-hover:grayscale-0 transition-all duration-500">
                             {{ 'image' | placeholder_svg_tag: 'w-full h-full object-cover opacity-50' }}
                        </div>
                    {% endif %}

                    <!-- Overlay -->
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80"></div>

                    <!-- Content -->
                    <div class="absolute bottom-0 left-0 w-full p-6 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-mono text-[10px] px-2 py-1 bg-[#FF9E00] text-black font-bold uppercase rounded-sm">
                                {{ block.settings.difficulty }}
                            </span>
                            <span class="font-mono text-[10px] text-gray-400">
                                {{ block.settings.duration }}
                            </span>
                        </div>
                        <h3 class="font-syne font-bold text-xl uppercase leading-none mb-2 group-hover:text-[#FF9E00] transition-colors">
                            {{ block.settings.title }}
                        </h3>
                        <p class="font-mono text-xs text-gray-400 line-clamp-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100">
                            {{ block.settings.description }}
                        </p>
                    </div>

                    <!-- Play Icon -->
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 border border-white/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 scale-50 group-hover:scale-100 backdrop-blur-sm">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M8 5v14l11-7z"/></svg>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const filterBtns = document.querySelectorAll('.filter-btn');
    const cards = document.querySelectorAll('.video-card');

    // Filter Logic
    filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            // Update Active State
            filterBtns.forEach(b => {
                b.classList.remove('bg-[#FF9E00]', 'text-black', 'border-[#FF9E00]');
                b.classList.add('border-white/20', 'text-white');
            });
            btn.classList.remove('border-white/20', 'text-white');
            btn.classList.add('bg-[#FF9E00]', 'text-black', 'border-[#FF9E00]');

            const filter = btn.dataset.filter;

            // Filter Cards
            cards.forEach(card => {
                if (filter === 'all' || card.dataset.category === filter) {
                    card.style.display = 'block';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'scale(1)';
                    }, 50);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        });
    });

    // Video Hover Logic
    cards.forEach(card => {
        const video = card.querySelector('video');
        if (video) {
            card.addEventListener('mouseenter', () => {
                video.play().catch(e => console.log('Autoplay prevented'));
            });
            card.addEventListener('mouseleave', () => {
                video.pause();
                video.currentTime = 0;
            });
        }
    });
});
</script>

{% schema %}
{
  "name": "Academy Grid",
  "settings": [],
  "blocks": [
    {
      "type": "tutorial",
      "name": "Tutorial Video",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Trick Name"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Short description of the trick."
        },
        {
          "type": "select",
          "id": "difficulty",
          "label": "Difficulty",
          "options": [
            { "value": "beginner", "label": "Beginner" },
            { "value": "intermediate", "label": "Intermediate" },
            { "value": "pro", "label": "Pro" }
          ],
          "default": "beginner"
        },
        {
          "type": "text",
          "id": "duration",
          "label": "Duration",
          "default": "0:45"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Cover Image"
        },
        {
          "type": "url",
          "id": "video_url",
          "label": "Video URL (MP4)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Academy Grid"
    }
  ]
}
{% endschema %}
