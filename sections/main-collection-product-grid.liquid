<div class="min-h-screen bg-[#050406] text-[#f0f0f0]">
    <div class="flex flex-col lg:flex-row">
        
        <!-- Sidebar Filters (Desktop) -->
        <aside class="w-full lg:w-64 border-b lg:border-b-0 lg:border-r border-white/20 p-6 sticky top-20 h-fit bg-[#050406] z-30">
            <div class="flex justify-between items-center lg:block mb-4 lg:mb-8">
                <h2 class="font-syne font-bold uppercase text-xl">SZŰRÉS</h2>
                <button class="lg:hidden text-[#FF9E00] font-mono text-xs uppercase border border-[#FF9E00] px-2 py-1">
                    NYITÁS +
                </button>
            </div>

            <div class="hidden lg:block space-y-8">
                <!-- Filter Group 1 -->
                <div>
                    <h3 class="font-mono text-xs text-gray-500 mb-3 uppercase">KATEGÓRIA</h3>
                    <ul class="space-y-2 font-mono text-sm">
                        <li><a href="#" class="hover:text-[#FF9E00] transition-colors text-[#FF9E00]">MINDEN</a></li>
                        <li><a href="#" class="hover:text-[#FF9E00] transition-colors">KENDAMÁK</a></li>
                        <li><a href="#" class="hover:text-[#FF9E00] transition-colors">RUHÁZAT</a></li>
                        <li><a href="#" class="hover:text-[#FF9E00] transition-colors">KIEGÉSZÍTŐK</a></li>
                    </ul>
                </div>

                <!-- Filter Group 2 -->
                <div>
                    <h3 class="font-mono text-xs text-gray-500 mb-3 uppercase">FAANYAG</h3>
                    <ul class="space-y-2 font-mono text-sm">
                        <li class="flex items-center gap-2">
                            <input type="checkbox" class="accent-[#FF9E00] bg-black border-white/20">
                            <span>JUHAR</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <input type="checkbox" class="accent-[#FF9E00] bg-black border-white/20">
                            <span>BÜKK</span>
                        </li>
                        <li class="flex items-center gap-2">
                            <input type="checkbox" class="accent-[#FF9E00] bg-black border-white/20">
                            <span>KŐRIS</span>
                        </li>
                    </ul>
                </div>

                <!-- Filter Group 3 -->
                <div>
                    <h3 class="font-mono text-xs text-gray-500 mb-3 uppercase">ÁR</h3>
                    <div class="flex gap-2 font-mono text-xs">
                        <input type="number" placeholder="MIN" class="w-full bg-transparent border border-white/20 p-2 text-white outline-none focus:border-[#FF9E00]">
                        <input type="number" placeholder="MAX" class="w-full bg-transparent border border-white/20 p-2 text-white outline-none focus:border-[#FF9E00]">
                    </div>
                </div>
            </div>
        </aside>

        <!-- Product Grid -->
        <div class="flex-1 p-4 md:p-8">
            <!-- Sort Bar -->
            <div class="flex justify-between items-center mb-8 pb-4 border-b border-white/10">
                <div class="font-mono text-xs text-gray-500">
                    MUTATVA: 1 - {{ collection.products.size }} / {{ collection.all_products_count }}
                </div>
                <select class="bg-transparent text-white font-mono text-xs uppercase border-none outline-none cursor-pointer hover:text-[#FF9E00]">
                    <option value="manual">AJÁNLOTT</option>
                    <option value="price-ascending">ÁR: NÖVEKVŐ</option>
                    <option value="price-descending">ÁR: CSÖKKENŐ</option>
                    <option value="created-descending">LEGÚJABB</option>
                </select>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-px bg-white/20 border border-white/20">
                {% for product in collection.products %}
                    <div class="bg-[#050406] p-6 group relative overflow-hidden hover:z-10 transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,158,0,0.1)]">
                        <!-- Badges -->
                        <div class="absolute top-4 left-4 z-20 flex gap-2">
                            {% if product.compare_at_price > product.price %}
                                <span class="bg-[#CCFF00] text-black text-xs px-2 py-1 font-bold font-mono">SALE</span>
                            {% endif %}
                            {% unless product.available %}
                                <span class="bg-red-600 text-white text-xs px-2 py-1 font-bold font-mono">SOLD OUT</span>
                            {% endunless %}
                        </div>

                        <!-- Image Container -->
                        <div class="aspect-[4/5] w-full bg-[#111] mb-6 relative overflow-hidden">
                            <!-- Primary Image -->
                            <img 
                                src="{{ product.featured_image | image_url: width: 600 }}" 
                                alt="{{ product.featured_image.alt }}"
                                class="w-full h-full object-cover transition-opacity duration-500 group-hover:opacity-0"
                                loading="lazy"
                            >
                            <!-- Secondary Image (Hover) -->
                            {% if product.images[1] %}
                                <img 
                                    src="{{ product.images[1] | image_url: width: 600 }}" 
                                    alt="{{ product.images[1].alt }}"
                                    class="absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-500 scale-105"
                                    loading="lazy"
                                >
                            {% else %}
                                <div class="absolute inset-0 w-full h-full bg-[#FF9E00] mix-blend-multiply opacity-0 group-hover:opacity-20 transition-opacity duration-500"></div>
                            {% endif %}

                            <!-- Quick Add Button -->
                            <div class="absolute bottom-0 left-0 w-full translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                                <form method="post" action="/cart/add">
                                    <input type="hidden" name="id" value="{{ product.variants.first.id }}" />
                                    <button type="submit" class="w-full bg-[#FF9E00] text-black py-3 font-bold uppercase text-xs hover:bg-white transition-colors cursor-none-target">
                                        GYORS VÁSÁRLÁS
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Details -->
                        <div>
                            <h3 class="font-syne font-bold text-xl uppercase mb-1 group-hover:text-[#FF9E00] transition-colors">
                                <a href="{{ product.url }}" class="no-underline text-inherit">
                                    {{ product.title }}
                                </a>
                            </h3>
                            <div class="flex justify-between items-end">
                                <p class="font-mono text-xs text-gray-500">{{ product.type }}</p>
                                <div class="text-right">
                                    {% if product.compare_at_price > product.price %}
                                        <span class="font-mono text-xs text-gray-500 line-through block">{{ product.compare_at_price | money }}</span>
                                    {% endif %}
                                    <span class="font-mono font-bold text-[#FF9E00]">{{ product.price | money }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <!-- Empty State -->
                    <div class="col-span-full py-20 text-center">
                        <p class="font-mono text-gray-500">NINCS TALÁLAT A KERESÉSI FELTÉTELEKNEK MEGFELELŐEN.</p>
                    </div>
                {% endfor %}
            </div>

            <!-- Pagination (Mock) -->
            <div class="mt-12 flex justify-center gap-2 font-mono text-sm">
                <span class="w-8 h-8 flex items-center justify-center bg-[#FF9E00] text-black font-bold">1</span>
                <a href="#" class="w-8 h-8 flex items-center justify-center border border-white/20 hover:border-[#FF9E00] transition-colors">2</a>
                <a href="#" class="w-8 h-8 flex items-center justify-center border border-white/20 hover:border-[#FF9E00] transition-colors">3</a>
                <span class="flex items-center px-2">...</span>
                <a href="#" class="w-8 h-8 flex items-center justify-center border border-white/20 hover:border-[#FF9E00] transition-colors">></a>
            </div>
        </div>
    </div>
</div>

{% schema %}
{
  "name": "Product Grid",
  "settings": [
    {
      "type": "range",
      "id": "products_per_page",
      "min": 8,
      "max": 24,
      "step": 4,
      "default": 12,
      "label": "Products per page"
    }
  ]
}
{% endschema %}
