<section class="py-24 px-4 md:px-8 relative">
    <div class="flex justify-between items-end mb-16 reveal">
        <h2 class="text-4xl md:text-6xl font-syne font-bold uppercase">{{ section.settings.title }} <span
                class="text-[#FF9E00]">{{ section.settings.highlight_word }}</span></h2>
        <div class="hidden md:block text-right">
            <p class="text-xs text-gray-400 font-mono">{{ section.settings.season_text }}</p>
            <p class="text-xs text-gray-400 font-mono">{{ section.settings.tagline }}</p>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-0 border-t border-white/20">
        {%- assign collection = collections[section.settings.collection] -%}
        {% for product in collection.products limit: section.settings.products_to_show %}
            <div class="product-card group border-r border-b border-white/20 p-8 relative overflow-hidden reveal cursor-none-target">
                {% if product.compare_at_price > product.price %}
                    <div class="absolute top-4 right-4 z-20">
                        <span class="bg-[#CCFF00] text-black text-xs px-2 py-1 font-bold">AKCIÓ</span>
                    </div>
                {% endif %}
                
                <div class="h-80 w-full bg-[#111] mb-6 overflow-hidden relative">
                    {% if product.featured_image != blank %}
                        {{ product.featured_image | image_url: width: 600 | image_tag: class: 'w-full h-full object-cover', loading: 'lazy' }}
                    {% else %}
                        {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-cover bg-gray-800' }}
                    {% endif %}
                    <div class="absolute inset-0 bg-[#FF9E00] mix-blend-multiply opacity-0 group-hover:opacity-40 transition-opacity duration-300">
                    </div>
                </div>
                
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="text-2xl font-bold font-syne mb-1 group-hover:text-[#FF9E00] transition-colors">
                            <a href="{{ product.url }}" class="no-underline text-inherit">{{ product.title }}</a>
                        </h3>
                        <p class="text-gray-400 text-sm font-mono">{{ product.type }}</p>
                    </div>
                    <p class="font-mono font-bold">{{ product.price | money }}</p>
                </div>
                
                <form method="post" action="/cart/add">
                    <input type="hidden" name="id" value="{{ product.variants.first.id }}" />
                    <button type="submit" class="w-full mt-6 py-3 border border-white/30 text-xs uppercase hover:bg-white hover:text-black transition-colors opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 duration-300 cursor-none-target">
                        KOSÁRBA
                    </button>
                </form>
            </div>
        {% else %}
            {% for i in (1..3) %}
                <div class="product-card group border-r border-b border-white/20 p-8 relative overflow-hidden reveal cursor-none-target">
                     <div class="h-80 w-full bg-[#111] mb-6 overflow-hidden relative">
                        {{ 'product-' | append: i | placeholder_svg_tag: 'w-full h-full object-cover bg-gray-800' }}
                    </div>
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-2xl font-bold font-syne mb-1 group-hover:text-[#FF9E00] transition-colors">PÉLDA TERMÉK</h3>
                            <p class="text-gray-400 text-sm font-mono">Típus</p>
                        </div>
                        <p class="font-mono font-bold">15 000 FT</p>
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    </div>
</section>

{% schema %}
{
  "name": "Featured Collection",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "LEGÚJABB"
    },
    {
      "type": "text",
      "id": "highlight_word",
      "label": "Highlight Word",
      "default": "DROP"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 3,
      "max": 12,
      "step": 3,
      "default": 3,
      "label": "Products to show"
    },
    {
      "type": "text",
      "id": "season_text",
      "label": "Season Text",
      "default": "04. SZEZON // 2024"
    },
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "PRECÍZIÓS TERVEZÉS"
    }
  ],
  "presets": [
    {
      "name": "Featured Collection"
    }
  ]
}
{% endschema %}
