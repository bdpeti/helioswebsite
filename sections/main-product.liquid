<div class="min-h-screen pt-24 pb-12 bg-[#050406] text-[#f0f0f0]">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
      
      <!-- Product Images (Left - 7 cols) -->
      <div class="lg:col-span-7 space-y-4">
        {% for media in product.media %}
          <div class="relative w-full aspect-square border border-white/10 overflow-hidden group cursor-none-target">
            <img 
              src="{{ media | image_url: width: 1200 }}" 
              alt="{{ media.alt | escape }}"
              class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 grayscale group-hover:grayscale-0"
              loading="lazy"
            >
            <div class="absolute inset-0 bg-[#FF9E00] mix-blend-multiply opacity-0 group-hover:opacity-20 transition-opacity duration-300 pointer-events-none"></div>
            
            <!-- Tech overlay -->
            <div class="absolute bottom-4 left-4 font-mono text-xs text-[#FF9E00] opacity-0 group-hover:opacity-100 transition-opacity">
              IMG_ID: {{ media.id }} // RES: HIGH
            </div>
          </div>
        {% else %}
            <div class="relative w-full aspect-square border border-white/10 overflow-hidden bg-[#111] flex items-center justify-center">
                {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-cover opacity-50' }}
            </div>
        {% endfor %}

        <!-- Reviews / Data Log Section -->
        <div class="mt-12 border border-white/10 p-6 bg-[#0a0a0a]">
            <h3 class="font-mono text-[#FF9E00] uppercase mb-4 text-sm">>> FELHASZNÁLÓI_VISSZAJELZÉSEK.LOG</h3>
            <div class="space-y-4 font-mono text-xs text-gray-400">
                {% for i in (1..3) %}
                    <div class="border-b border-white/5 pb-2">
                        <div class="flex justify-between mb-1">
                            <span class="text-white">USER_{{ i | times: 342 }}</span>
                            <span class="text-[#CCFF00]">VERIFIED</span>
                        </div>
                        <p>"Brutális tapadás, a lunarok szinte maguktól megállnak. A forma tökéletes."</p>
                        <div class="text-gray-600 mt-1">RATING: 5/5 // DATE: 2024.11.{{ i }}</div>
                    </div>
                {% endfor %}
            </div>
        </div>
      </div>

      <!-- Product Details (Right - 5 cols) - Sticky -->
      <div class="lg:col-span-5 relative">
        <div class="lg:sticky lg:top-32 space-y-8">
          
          <!-- Header -->
          <div class="border-b border-white/20 pb-6">
            <div class="flex justify-between items-start mb-2">
                <span class="bg-[#CCFF00] text-black text-xs px-2 py-1 font-bold font-mono">ÚJ DROP</span>
                <span class="font-mono text-xs text-gray-400">SKU: {{ product.selected_or_first_available_variant.sku | default: 'N/A' }}</span>
            </div>
            <h1 class="text-5xl md:text-7xl font-black font-syne uppercase leading-none mb-4 text-outline hover:text-[#FF9E00] transition-colors duration-300" style="-webkit-text-stroke-width: 2px;">
              {{ product.title }}
            </h1>
            <div class="flex items-center gap-4">
                <span class="text-3xl font-mono font-bold text-[#FF9E00]">{{ product.price | money }}</span>
                {% if product.compare_at_price > product.price %}
                    <span class="text-xl font-mono text-gray-500 line-through">{{ product.compare_at_price | money }}</span>
                {% endif %}
            </div>
          </div>

          <!-- Description -->
          <div class="font-mono text-sm text-gray-400 leading-relaxed border-l-2 border-[#FF9E00] pl-4">
            {{ product.description }}
          </div>

          <!-- Dynamic Blocks -->
          {% for block in section.blocks %}
            {% case block.type %}
                {% when 'play_button' %}
                    <div class="py-4" {{ block.shopify_attributes }}>
                        <a href="{{ block.settings.audio_url | default: '#' }}" class="flex items-center gap-4 group cursor-none-target w-full border border-white/20 p-4 hover:bg-white/5 transition-colors">
                            <div class="w-12 h-12 bg-[#FF9E00] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform text-black">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                            </div>
                            <div>
                                <div class="font-syne font-bold uppercase text-lg">{{ block.settings.label }}</div>
                                <div class="font-mono text-xs text-gray-500">HANGMINTA LEJÁTSZÁSA</div>
                            </div>
                        </a>
                    </div>

                {% when 'tech_specs' %}
                    <div class="border border-white/20 p-4 bg-[#111]" {{ block.shopify_attributes }}>
                        <h4 class="font-mono text-[#CCFF00] text-xs uppercase mb-4 border-b border-white/10 pb-2">TECHNIKAI_ADATOK</h4>
                        <div class="grid grid-cols-2 gap-4 text-sm font-mono">
                            <div>
                                <span class="text-gray-500 block text-xs">FAANYAG</span>
                                <span class="text-white">{{ block.settings.wood_type }}</span>
                            </div>
                            <div>
                                <span class="text-gray-500 block text-xs">SÚLY</span>
                                <span class="text-white">{{ block.settings.weight }}</span>
                            </div>
                            <div>
                                <span class="text-gray-500 block text-xs">FESTÉS</span>
                                <span class="text-white">{{ block.settings.paint_type }}</span>
                            </div>
                            <div>
                                <span class="text-gray-500 block text-xs">FORMA</span>
                                <span class="text-white">{{ block.settings.shape }}</span>
                            </div>
                        </div>
                    </div>

                {% when 'cross_sell' %}
                    <div class="mt-8" {{ block.shopify_attributes }}>
                        <h4 class="font-syne font-bold uppercase text-lg mb-4">{{ block.settings.heading }}</h4>
                        <div class="grid grid-cols-2 gap-4">
                            {% assign recommended_products = block.settings.product_list %}
                            {% for product in recommended_products %}
                                <a href="{{ product.url }}" class="block border border-white/10 p-2 hover:border-[#FF9E00] transition-colors group">
                                    <div class="aspect-square bg-[#111] mb-2 overflow-hidden">
                                        {{ product.featured_image | image_url: width: 200 | image_tag: class: 'w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all' }}
                                    </div>
                                    <div class="font-syne font-bold text-sm">{{ product.title }}</div>
                                    <div class="font-mono text-xs text-[#FF9E00]">{{ product.price | money }}</div>
                                </a>
                            {% else %}
                                <!-- Placeholder for editor -->
                                <div class="border border-white/10 p-2">
                                    <div class="aspect-square bg-[#222] mb-2"></div>
                                    <div class="font-syne font-bold text-sm">PÓT ZSINÓR</div>
                                    <div class="font-mono text-xs text-[#FF9E00]">1 500 FT</div>
                                </div>
                                <div class="border border-white/10 p-2">
                                    <div class="aspect-square bg-[#222] mb-2"></div>
                                    <div class="font-syne font-bold text-sm">KENDAMA WAX</div>
                                    <div class="font-mono text-xs text-[#FF9E00]">2 000 FT</div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
            {% endcase %}
          {% endfor %}

          <!-- Add to Cart Form -->
          {% form 'product', product %}
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
            
            {% unless product.has_only_default_variant %}
              <div class="mb-6">
                <label class="block font-mono text-xs text-[#FF9E00] mb-2 uppercase">Változat</label>
                <select name="id" class="w-full bg-black border border-white/20 text-white p-3 font-mono focus:border-[#FF9E00] outline-none">
                  {% for variant in product.variants %}
                    <option value="{{ variant.id }}" {% if variant == product.selected_or_first_available_variant %}selected="selected"{% endif %}>
                      {{ variant.title }} - {{ variant.price | money }}
                    </option>
                  {% endfor %}
                </select>
              </div>
            {% endunless %}

            <button type="submit" 
                class="w-full bg-[#FF9E00] text-black py-5 font-bold uppercase tracking-widest hover:bg-[#CCFF00] transition-colors shadow-[4px_4px_0px_0px_#ffffff] hover:translate-x-1 hover:translate-y-1 hover:shadow-none cursor-none-target relative overflow-hidden group">
                <span class="relative z-10">KOSÁRBA HELYEZÉS</span>
                <div class="absolute inset-0 bg-white transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300 mix-blend-difference"></div>
            </button>
          {% endform %}

          <!-- Accordion (Shipping/Returns) -->
          <div class="border-t border-white/20 pt-6 space-y-4">
             <div class="group cursor-pointer">
                <div class="flex justify-between items-center mb-2">
                    <span class="font-mono text-sm uppercase text-gray-300 group-hover:text-[#FF9E00]">Szállítás és Garancia</span>
                    <span class="text-[#FF9E00]">+</span>
                </div>
                <div class="text-xs font-mono text-gray-500 hidden group-hover:block">
                    <p>INGYENES SZÁLLÍTÁS 20 000 FT FELETT.</p>
                    <p>14 NAPOS VISSZAVÁSÁRLÁSI GARANCIA.</p>
                </div>
             </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Main Product",
  "settings": [],
  "blocks": [
    {
      "type": "tech_specs",
      "name": "Tech Specs",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "wood_type",
          "label": "Wood Type",
          "default": "Juhar / Bükk"
        },
        {
          "type": "text",
          "id": "weight",
          "label": "Weight",
          "default": "75g"
        },
        {
          "type": "text",
          "id": "paint_type",
          "label": "Paint Type",
          "default": "Sticky Clear"
        },
        {
          "type": "text",
          "id": "shape",
          "label": "Shape",
          "default": "Helios V2"
        }
      ]
    },
    {
      "type": "play_button",
      "name": "Play Button",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "HALLGASD MEG A POP-OT"
        },
        {
          "type": "url",
          "id": "audio_url",
          "label": "Audio/Video Link"
        }
      ]
    },
    {
      "type": "cross_sell",
      "name": "Cross Sell",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "EGÉSZÍTSD KI A SZETTED"
        },
        {
          "type": "product_list",
          "id": "product_list",
          "label": "Products"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Main Product"
    }
  ]
}
{% endschema %}
